<!DOCTYPE html>
<html>
	<head>
		<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
		<title>Map</title>
		<style type="text/css">
			html {
				height: 100%
			}
			body {
				height: 100%;
				margin: 0;
				padding: 0
			}
			#map_canvas {
				height: 100%;
				width: 100%
			}
		</style>
		<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCneWH2oTmRpX93qQt1LvowQyULSGqbjSc&sensor=false"></script>
		<script type="text/javascript">
			var map;
			var mapOptions;
			var i = 1;
			function initialize() {

				mapTypeIds = ["roadmap", "satellite", "OSM"];

				var crosshairShape = {
					coords : [64, 64, 64, 64],
					type : 'rect'
				};

				//Crosshair
				var latlng = new google.maps.LatLng(47.66, 9.16);
				var myOptions = {
					zoom : 14,
					center : latlng,
					mapTypeId : google.maps.MapTypeId.ROADMAP,
					draggableCursor : 'crosshair',
					mapTypeControlOptions : {
						mapTypeIds : mapTypeIds,
						style : google.maps.MapTypeControlStyle.DROPDOWN_MENU,
					}
				};
				
				var map = new google.maps.Map(document.getElementById("map_canvas"), myOptions);
				
				//Marker
				google.maps.event.addListener(map, 'click', function(event) {
					i++;   	//?
					var marker = new google.maps.Marker({
						position: event.latLng,
						map: map,
						title: i,
						id: i 	//?
						
					});
				});
				//  http://www.xml-ecke.de/?p=542
 
				// var marker = new google.maps.Marker({
					// position: new event.latlng,
					// map: map,
					// icon: icon, title: title
				// });
				// google.maps.event.addListener(marker, 'click', function(event) {
					// infowindow.open(map,marker);
				// });
								

				//Route
				var routePoints = [
					new google.maps.LatLng(47.66, 9.16),
					new google.maps.LatLng(47.67, 9.17),
					new google.maps.LatLng(47.69, 9.14),
				];
				var route = new google.maps.Polyline({
					path: routePoints,
					strokeColor: "#FF0000",
					strokeOpacity: 1.0,
					strokeWeight: 2
				});

				route.setMap(map);

				//OpenStreetMap
				map.mapTypes.set("OSM", new google.maps.ImageMapType({
					getTileUrl : function(coord, zoom) {
						return "http://tile.openstreetmap.org/" + zoom + "/" + coord.x + "/" + coord.y + ".png";
					},
					tileSize : new google.maps.Size(256, 256),
					maxZoom : 18,
					name: "OpenStreetMap"
				}));

				var marker = new google.maps.Marker({
					map : map,
					icon : 'http://www.daftlogic.com/images/cross-hairs.gif',
					shape : crosshairShape
				});
				marker.bindTo('position', map, 'center');

				//LatLong
				google.maps.event.addListener(map, 'center_changed', function() {
					document.getElementById("lat").firstChild.nodeValue = map.getCenter().lat();
					document.getElementById("long").firstChild.nodeValue = map.getCenter().lng();
				})
			}

		</script>
	</head>
	<body onload="initialize()">
		<h1>Lat: <span id="lat">47.66</span>, Lan: <span id="long">9.16</span></h1>
		<div id="map_canvas"></div>
	</body>
</html>